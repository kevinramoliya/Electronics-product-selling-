@{
    ViewData["Title"] = "Category List";
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
}

@using System.Data
@model DataTable

<main class="main" id="main">
	<div class="body">

		<div class="d-flex mt-3 mb-3">
			<h3>Category List</h3>
		</div>

		@*Filter Data*@
		
		<div class="table-header d-flex">
			<div class="add-button mr-auto">
				<a asp-area="Category" asp-controller="Category" asp-action="CategoryAdd">
					<input type="button" class="btn btn-success" value="Add New Category" />
				</a>
			</div>
			<div class="pull-right col-xl-4 ms-lg-auto">
				<div id="sample_1_filter" class="dataTables_filter">
					<input type="text" class="form-control input-group-sm input-small input-inline" id="sample_1" placeholder="Search" aria-controls="sample_1">
				</div>
			</div>
		</div>

		<table class="table">
			<thead>
				<tr>
					<th scope="col">Category</th>
					<th scope="col">Category Discription</th>
					<th scope="col">Actions</th>
					


				</tr>
			</thead>
			<tbody id="sample_2">
				@foreach (DataRow dr in Model.Rows)

				{
					<tr>
						<td>@dr["CategoryName"]</td>
						<td>@dr["Discription"]</td>					
						<td>
							<form method="post" asp-area="Category" asp-controller="Category" asp-action="CategoryDelete">
								<input type="hidden" value="@Convert.ToInt32(dr["CategoryID"])"  name="CategoryID" />
								<button type="submit" class="btn btn-danger" value="Delete" onclick="return fun1()">Delete</button>
								<a class="btn btn-info btn-xs" asp-area="Category" asp-controller="Category" asp-action="CategoryAdd" asp-route-CategoryID="@Convert.ToInt32(dr["CategoryID"])">Edit</a>
							</form>
						</td>


					</tr>
				}


			</tbody>
		</table>
	</div>
</main>
@section Scripts
    {
    <script>
		function fun1() {
			if (confirm("Are You Sure You Want To Delete This Record:"))
				return true;
			else
				return false
		}
        $(document).ready(function () {
            $("#sample_1").on("keyup", function () {
                var value = $(this).val().toLowerCase();
                $("#sample_2 tr").filter(function () {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>
}

